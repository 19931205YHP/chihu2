{"version":3,"sources":["../../src/pages/send-answer/send-answer.module.ts","../../src/pages/send-answer/send-answer.ts"],"names":[],"mappings":"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","file":"37.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SendAnswerPage } from './send-answer';\n\n@NgModule({\n  declarations: [\n    SendAnswerPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SendAnswerPage),\n  ],\n  exports: [\n    SendAnswerPage\n  ]\n})\nexport class SendAnswerPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/send-answer/send-answer.module.ts","import { Component, OnInit } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { UserServiceProvider } from '../../providers/user-service/user-service';\nimport { Headers, Http } from '@angular/http';\n/**\n * Generated class for the SendAnswerPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\ndeclare var $: any;\n@IonicPage()\n@Component({\n  selector: 'page-send-answer',\n  templateUrl: 'send-answer.html',\n})\nexport class SendAnswerPage implements OnInit {\n\n  summernote: any;\n  _id;\n  title;\n  text;\n\n  constructor(public http: Http, public UserService: UserServiceProvider, public navCtrl: NavController, public navParams: NavParams) {\n    this._id = this.navParams.get('id');\n    this.title = this.navParams.get('title');\n  }\n\n  ngOnInit() {\n    var _that = this;\n    this.summernote = $('#summernote');\n    this.summernote.summernote(\n      {\n        height: 380,\n        placeholder: '文章内容...',\n        callbacks: {\n          onImageUpload: function (files) { //the onImageUpload API  \n            var imgs = _that.upFile(files[0]);\n          }\n        },\n        toolbar: [\n          // [groupName, [list of button]]\n          ['style', ['bold', 'italic']],\n          ['fontsize', ['fontsize']],\n          ['color', ['color']],\n          ['para', ['ul', 'ol', 'paragraph']],\n          ['Insert', ['picture']]\n        ]\n      }\n    )\n  }\n\n  upFile(file) {\n    this.UserService.presentLoadingDefault();\n    var _data = new FormData(),\n      _that = this;\n    _data.append(\"file\", file);\n\n    $.ajax({\n      data: _data,\n      dataType: 'text',\n      type: \"POST\",\n      url: \"http://www.devonhello.com/cfdkAdmin/uploadimg\",\n      cache: false,\n      contentType: false,\n      processData: false,\n      success: function (url) {\n\n        _that.summernote.summernote('insertImage', \"http://7xp2ia.com1.z0.glb.clouddn.com/\" + url, 'image name'); // the insertImage API  \n        _that.UserService.presentLoadingDismiss();\n    }\n    });\n  }\n\n  send() {\n    this.text = this.summernote.summernote('code');\n    if (this.text < 10) {\n      alert(\"内容太短...至少10个字符\");\n      return true;\n    }\n    this.UserService.presentLoadingDefault();\n\n    let url = \"http://www.devonhello.com/chihu2/send_answer\";\n\n    var headers = new Headers();\n    headers.append('Content-Type', 'application/x-www-form-urlencoded');\n\n    this.http.post(url, \"uid=\" + this.UserService._user._id + \"&answerid=\" + this._id + \"&name=\" + this.UserService._user.nickname + \"&userimg=\" + this.UserService._user.userimg + \"&title=\" + this.title + \"&text=\" + this.text, {\n      headers: headers\n    })\n      .subscribe((res) => {\n        this.UserService.presentLoadingDismiss();\n        this.navCtrl.pop();\n      });\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/send-answer/send-answer.ts"],"sourceRoot":""}